function escape_jsdiff(c){return c.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;")}
function diffString(c,b){c=c.replace(/\s+$/,"");b=b.replace(/\s+$/,"");var f=diff(""==c?[]:c.split(/\s+/),""==b?[]:b.split(/\s+/)),e="",a=c.match(/\s+/g);null==a?a=["\n"]:a.push("\n");var x=b.match(/\s+/g);if(null==x?x=["\n"]:x.push("\n"),0==f.n.length)for(var d=0;d<f.o.length;d++)e+="\x3cdel\x3e"+escape_jsdiff(f.o[d])+a[d]+"\x3c/del\x3e";else{if(null==f.n[0].text)for(b=0;b<f.o.length&&null==f.o[b].text;b++)e+="\x3cdel\x3e"+escape_jsdiff(f.o[b])+a[b]+"\x3c/del\x3e";for(d=0;d<f.n.length;d++)if(null==
f.n[d].text)e+="\x3cins\x3e"+escape_jsdiff(f.n[d])+x[d]+"\x3c/ins\x3e";else{var p="";for(b=f.n[d].row+1;b<f.o.length&&null==f.o[b].text;b++)p+="\x3cdel\x3e"+escape_jsdiff(f.o[b])+a[b]+"\x3c/del\x3e";e+=" "+f.n[d].text+x[d]+p}}return e}function randomColor(){return"rgb("+100*Math.random()+"%, "+100*Math.random()+"%, "+100*Math.random()+"%)"}
function diffString2(c,b){c=c.replace(/\s+$/,"");b=b.replace(/\s+$/,"");var f=diff(""==c?[]:c.split(/\s+/),""==b?[]:b.split(/\s+/)),e=c.match(/\s+/g);null==e?e=["\n"]:e.push("\n");var a=b.match(/\s+/g);null==a?a=["\n"]:a.push("\n");for(var x="",d=0;d<f.o.length;d++)randomColor(),null!=f.o[d].text?x+=escape_jsdiff(f.o[d].text)+e[d]:x+="\x3cdel\x3e"+escape_jsdiff(f.o[d])+e[d]+"\x3c/del\x3e";e="";for(d=0;d<f.n.length;d++)null!=f.n[d].text?e+=escape_jsdiff(f.n[d].text)+a[d]:e+="\x3cins\x3e"+escape_jsdiff(f.n[d])+
a[d]+"\x3c/ins\x3e";return{o:x,n:e}}
function diff(c,b){for(var f={},e={},a=0;a<b.length;a++)null==f[b[a]]&&(f[b[a]]={rows:[],o:null}),f[b[a]].rows.push(a);for(a=0;a<c.length;a++)null==e[c[a]]&&(e[c[a]]={rows:[],n:null}),e[c[a]].rows.push(a);for(a in f)1==f[a].rows.length&&void 0!==e[a]&&1==e[a].rows.length&&(b[f[a].rows[0]]={text:b[f[a].rows[0]],row:e[a].rows[0]},c[e[a].rows[0]]={text:c[e[a].rows[0]],row:f[a].rows[0]});for(a=0;a<b.length-1;a++)null!=b[a].text&&null==b[a+1].text&&b[a].row+1<c.length&&null==c[b[a].row+1].text&&b[a+1]==
c[b[a].row+1]&&(b[a+1]={text:b[a+1],row:b[a].row+1},c[b[a].row+1]={text:c[b[a].row+1],row:a+1});for(a=b.length-1;0<a;a--)null!=b[a].text&&null==b[a-1].text&&0<b[a].row&&null==c[b[a].row-1].text&&b[a-1]==c[b[a].row-1]&&(b[a-1]={text:b[a-1],row:b[a].row-1},c[b[a].row-1]={text:c[b[a].row-1],row:a-1});return{o:c,n:b}}__whitespace={" ":!0,"\t":!0,"\n":!0,"\f":!0,"\r":!0};
difflib={defaultJunkFunction:function(c){return c in __whitespace},stripLinebreaks:function(c){return c.replace(/^[\n\r]*|[\n\r]*$/g,"")},stringAsLines:function(c){var b=c.indexOf("\n"),f=c.indexOf("\r");c=c.split(-1<b&&-1<f||0>f?"\n":"\r");for(b=0;b<c.length;b++)c[b]=difflib.stripLinebreaks(c[b]);return c},__reduce:function(c,b,f){if(null!=f)var e=0;else{if(!b)return null;f=b[0];e=1}for(;e<b.length;e++)f=c(f,b[e]);return f},__ntuplecomp:function(c,b){for(var f=Math.max(c.length,b.length),e=0;e<f;e++){if(c[e]<
b[e])return-1;if(c[e]>b[e])return 1}return c.length==b.length?0:c.length<b.length?-1:1},__calculate_ratio:function(c,b){return b?2*c/b:1},__isindict:function(c){return function(b){return b in c}},__dictget:function(c,b,f){return b in c?c[b]:f},SequenceMatcher:function(c,b,f){this.set_seqs=function(e,a){this.set_seq1(e);this.set_seq2(a)};this.set_seq1=function(e){e!=this.a&&(this.a=e,this.matching_blocks=this.opcodes=null)};this.set_seq2=function(e){e!=this.b&&(this.b=e,this.matching_blocks=this.opcodes=
this.fullbcount=null,this.__chain_b())};this.__chain_b=function(){for(var e=this.b,a=e.length,x=this.b2j={},d={},p=0;p<e.length;p++)if((b=e[p])in x){var g=x[b];200<=a&&100*g.length>a?(d[b]=1,delete x[b]):g.push(p)}else x[b]=[p];for(var b in d)delete x[b];e=this.isjunk;a={};if(e){for(b in d)e(b)&&(a[b]=1,delete d[b]);for(b in x)e(b)&&(a[b]=1,delete x[b])}this.isbjunk=difflib.__isindict(a);this.isbpopular=difflib.__isindict(d)};this.find_longest_match=function(e,a,b,d){for(var p=this.a,g=this.b,c=this.b2j,
v=this.isbjunk,m=e,f=b,l=0,r=null,w={},y=[],q=e;q<a;q++){var u={},h=difflib.__dictget(c,p[q],y),n;for(n in h)if(!((r=h[n])<b)){if(r>=d)break;u[r]=k=difflib.__dictget(w,r-1,0)+1;k>l&&(m=q-k+1,f=r-k+1,l=k)}w=u}for(;m>e&&f>b&&!v(g[f-1])&&p[m-1]==g[f-1];)m--,f--,l++;for(;m+l<a&&f+l<d&&!v(g[f+l])&&p[m+l]==g[f+l];)l++;for(;m>e&&f>b&&v(g[f-1])&&p[m-1]==g[f-1];)m--,f--,l++;for(;m+l<a&&f+l<d&&v(g[f+l])&&p[m+l]==g[f+l];)l++;return[m,f,l]};this.get_matching_blocks=function(){if(null!=this.matching_blocks)return this.matching_blocks;
for(var e,a,b,d,p,g,c,f,m=this.a.length,t=this.b.length,l=[[0,m,0,t]],r=[];l.length;)e=(d=l.pop())[0],a=d[1],b=d[2],d=d[3],p=(f=this.find_longest_match(e,a,b,d))[0],g=f[1],(c=f[2])&&(r.push(f),e<p&&b<g&&l.push([e,p,b,g]),p+c<a&&g+c<d&&l.push([p+c,a,g+c,d]));r.sort(difflib.__ntuplecomp);e=j1=k1=block=0;a=[];for(var w in r)block=r[w],i2=block[0],j2=block[1],k2=block[2],e+k1==i2&&j1+k1==j2?k1+=k2:(k1&&a.push([e,j1,k1]),e=i2,j1=j2,k1=k2);return k1&&a.push([e,j1,k1]),a.push([m,t,0]),this.matching_blocks=
a,this.matching_blocks};this.get_opcodes=function(){if(null!=this.opcodes)return this.opcodes;var e,a,b,d,p=0,g=0,c=[];this.opcodes=c;var f=this.get_matching_blocks(),m;for(m in f)a=(e=f[m])[0],b=e[1],e=e[2],d="",p<a&&g<b?d="replace":p<a?d="delete":g<b&&(d="insert"),d&&c.push([d,p,a,g,b]),p=a+e,g=b+e,e&&c.push(["equal",a,p,b,g]);return c};this.get_grouped_opcodes=function(e){e||(e=3);var a,b,d,p,g,c,f=this.get_opcodes();f||(f=[["equal",0,1,0,1]]);"equal"==f[0][0]&&(b=(a=f[0])[0],d=a[1],p=a[2],g=a[3],
c=a[4],f[0]=[b,Math.max(d,p-e),p,Math.max(g,c-e),c]);"equal"==f[f.length-1][0]&&(b=(a=f[f.length-1])[0],d=a[1],p=a[2],g=a[3],c=a[4],f[f.length-1]=[b,d,Math.min(p,d+e),g,Math.min(c,g+e)]);var m=e+e,t=[],l;for(l in f)b=(a=f[l])[0],d=a[1],p=a[2],g=a[3],c=a[4],"equal"==b&&p-d>m&&(t.push([b,d,Math.min(p,d+e),g,Math.min(c,g+e)]),d=Math.max(d,p-e),g=Math.max(g,c-e)),t.push([b,d,p,g,c]);return t&&"equal"==t[t.length-1][0]&&t.pop(),t};this.ratio=function(){return matches=difflib.__reduce(function(b,a){return b+
a[a.length-1]},this.get_matching_blocks(),0),difflib.__calculate_ratio(matches,this.a.length+this.b.length)};this.quick_ratio=function(){var b,a;if(null==this.fullbcount){this.fullbcount=b={};for(var c=0;c<this.b.length;c++)b[a=this.b[c]]=difflib.__dictget(b,a,0)+1}b=this.fullbcount;for(var d={},f=difflib.__isindict(d),g=numb=0,c=0;c<this.a.length;c++)f(a=this.a[c])?numb=d[a]:numb=difflib.__dictget(b,a,0),d[a]=numb-1,0<numb&&g++;return difflib.__calculate_ratio(g,this.a.length+this.b.length)};this.real_quick_ratio=
function(){var b=this.a.length,a=this.b.length;return _calculate_ratio(Math.min(b,a),b+a)};this.isjunk=f||difflib.defaultJunkFunction;this.a=this.b=null;this.set_seqs(c,b)}};
diffview={buildView:function(c){function b(a,b){var d=document.createElement(a);return d.className=b,d}function f(a,b){var d=document.createElement(a);return d.appendChild(document.createTextNode(b)),d}function e(a,b,d){a=document.createElement(a);return a.className=b,a.innerHTML=d,a}function a(a,d,g,c,p){return d<g?(a.appendChild(f("th",(d+1).toString())),a.appendChild(e("td",p,c[d].replace(/\t/g,"    "))),d+1):(a.appendChild(document.createElement("th")),a.appendChild(b("td","empty")),d)}function x(a,
b,d,g,c){a.appendChild(f("th",null==b?"":(b+1).toString()));a.appendChild(f("th",null==d?"":(d+1).toString()));a.appendChild(e("td",c,g[null!=b?b:d].replace(/\t/g,"    ")))}var d=c.baseTextLines,p=c.newTextLines,g=c.opcodes,A=c.baseTextName?c.baseTextName:"Base Text",v=c.newTextName?c.newTextName:"New Text",m=c.contextSize;c=0==c.viewType||1==c.viewType?c.viewType:0;if(null==d)throw"Cannot build diff view; baseTextLines is not defined.";if(null==p)throw"Cannot build diff view; newTextLines is not defined.";
if(!g)throw"Canno build diff view; opcodes is not defined.";var t=document.createElement("thead"),l=document.createElement("tr");t.appendChild(l);c?(l.appendChild(document.createElement("th")),l.appendChild(document.createElement("th")),l.appendChild(e("th","texttitle",A+" vs. "+v))):(l.appendChild(document.createElement("th")),l.appendChild(e("th","texttitle",A)),l.appendChild(document.createElement("th")),l.appendChild(e("th","texttitle",v)));for(var t=[t],r,A=[],v=0;v<g.length;v++){code=g[v];change=
code[0];for(var w=code[1],y=code[2],q=code[3],u=code[4],h=Math.max(y-w,u-q),n=[],C=[],z=0;z<h;z++){if(m&&1<g.length&&(0<v&&z==m||0==v&&0==z)&&"equal"==change){var B=h-(0==v?1:2)*m;if(1<B){if(n.push(l=document.createElement("tr")),w+=B,q+=B,z+=B-1,l.appendChild(f("th","...")),c||l.appendChild(e("td","skip","")),l.appendChild(f("th","...")),l.appendChild(e("td","skip","")),v+1==g.length)break;continue}}(n.push(l=document.createElement("tr")),c)?"insert"==change?x(l,null,q++,p,change):"replace"==change?
(C.push(r=document.createElement("tr")),w<y&&x(l,w++,null,d,"delete"),q<u&&x(r,null,q++,p,"insert")):"delete"==change?x(l,w++,null,d,change):x(l,w++,q++,d,change):(B=diffString2(w<y?d[w]:"",q<u?p[q]:""),w<y&&(d[w]=B.o),q<u&&(p[q]=B.n),w=a(l,w,y,d,"replace"==change?"delete":change),q=a(l,q,u,p,"replace"==change?"insert":change))}for(z=0;z<n.length;z++)A.push(n[z]);for(z=0;z<C.length;z++)A.push(C[z])}for(v in"and John Resig's \x3ca href\x3d'http://ejohn.org/projects/javascript-diff-algorithm/'\x3ediff\x3c/a\x3e ",
"by \x3ca href\x3d'http://richardbondi.net'\x3eRichard Bondi\x3c/a\x3e",A.push(l=e("th","author","combined \x3ca href\x3d'http://snowtide.com/jsdifflib'\x3ejsdifflib\x3c/a\x3e and John Resig's \x3ca href\x3d'http://ejohn.org/projects/javascript-diff-algorithm/'\x3ediff\x3c/a\x3e by \x3ca href\x3d'http://richardbondi.net'\x3eRichard Bondi\x3c/a\x3e")),l.setAttribute("colspan",c?3:4),t.push(l=document.createElement("tbody")),A)A.hasOwnProperty(v)&&l.appendChild(A[v]);for(v in l=b("table","diff"+(c?
" inlinediff":"")),t)t.hasOwnProperty(v)&&l.appendChild(t[v]);return l}};
var LZString=function(){function c(a,b){if(!f[a]){f[a]={};for(var d=0;d<a.length;d++)f[a][a.charAt(d)]=d}return f[a][b]}var b=String.fromCharCode,f={},e={compressToBase64:function(a){if(null==a)return"";a=e._compress(a,6,function(a){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(a)});switch(a.length%4){default:case 0:return a;case 1:return a+"\x3d\x3d\x3d";case 2:return a+"\x3d\x3d";case 3:return a+"\x3d"}},decompressFromBase64:function(a){return null==a?"":""==
a?null:e._decompress(a.length,32,function(b){return c("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",a.charAt(b))})},compressToUTF16:function(a){return null==a?"":e._compress(a,15,function(a){return b(a+32)})+" "},decompressFromUTF16:function(a){return null==a?"":""==a?null:e._decompress(a.length,16384,function(b){return a.charCodeAt(b)-32})},compressToUint8Array:function(a){a=e.compress(a);for(var b=new Uint8Array(2*a.length),d=0,c=a.length;d<c;d++){var g=a.charCodeAt(d);
b[2*d]=g>>>8;b[2*d+1]=g%256}return b},decompressFromUint8Array:function(a){if(null==a)return e.decompress(a);for(var c=Array(a.length/2),d=0,f=c.length;d<f;d++)c[d]=256*a[2*d]+a[2*d+1];var g=[];return c.forEach(function(a){g.push(b(a))}),e.decompress(g.join(""))},compressToEncodedURIComponent:function(a){return null==a?"":e._compress(a,6,function(a){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$".charAt(a)})},decompressFromEncodedURIComponent:function(a){return null==a?"":
""==a?null:(a=a.replace(/ /g,"+"),e._decompress(a.length,32,function(b){return c("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a.charAt(b))}))},compress:function(a){return e._compress(a,16,function(a){return b(a)})},_compress:function(a,b,d){if(null==a)return"";var c,g,e,f={},m={},t="",l="",r="",w=2,y=3,q=2,u=[],h=0,n=0;for(e=0;e<a.length;e+=1)if(t=a.charAt(e),Object.prototype.hasOwnProperty.call(f,t)||(f[t]=y++,m[t]=!0),l=r+t,Object.prototype.hasOwnProperty.call(f,l))r=l;else{if(Object.prototype.hasOwnProperty.call(m,
r)){if(256>r.charCodeAt(0)){for(c=0;c<q;c++)h<<=1,n==b-1?(n=0,u.push(d(h)),h=0):n++;g=r.charCodeAt(0);for(c=0;8>c;c++)h=h<<1|1&g,n==b-1?(n=0,u.push(d(h)),h=0):n++,g>>=1}else{g=1;for(c=0;c<q;c++)h=h<<1|g,n==b-1?(n=0,u.push(d(h)),h=0):n++,g=0;g=r.charCodeAt(0);for(c=0;16>c;c++)h=h<<1|1&g,n==b-1?(n=0,u.push(d(h)),h=0):n++,g>>=1}0==--w&&(w=Math.pow(2,q),q++);delete m[r]}else for(g=f[r],c=0;c<q;c++)h=h<<1|1&g,n==b-1?(n=0,u.push(d(h)),h=0):n++,g>>=1;0==--w&&(w=Math.pow(2,q),q++);f[l]=y++;r=String(t)}if(""!==
r){if(Object.prototype.hasOwnProperty.call(m,r)){if(256>r.charCodeAt(0)){for(c=0;c<q;c++)h<<=1,n==b-1?(n=0,u.push(d(h)),h=0):n++;g=r.charCodeAt(0);for(c=0;8>c;c++)h=h<<1|1&g,n==b-1?(n=0,u.push(d(h)),h=0):n++,g>>=1}else{g=1;for(c=0;c<q;c++)h=h<<1|g,n==b-1?(n=0,u.push(d(h)),h=0):n++,g=0;g=r.charCodeAt(0);for(c=0;16>c;c++)h=h<<1|1&g,n==b-1?(n=0,u.push(d(h)),h=0):n++,g>>=1}0==--w&&(w=Math.pow(2,q),q++);delete m[r]}else for(g=f[r],c=0;c<q;c++)h=h<<1|1&g,n==b-1?(n=0,u.push(d(h)),h=0):n++,g>>=1;0==--w&&
(Math.pow(2,q),q++)}g=2;for(c=0;c<q;c++)h=h<<1|1&g,n==b-1?(n=0,u.push(d(h)),h=0):n++,g>>=1;for(;;){if(h<<=1,n==b-1){u.push(d(h));break}n++}return u.join("")},decompress:function(a){return null==a?"":""==a?null:e._decompress(a.length,32768,function(b){return a.charCodeAt(b)})},_decompress:function(a,c,d){var e,g,f,v,m,t,l=[],r=4,w=4,y=3;g="";var q=[],u=d(0),h=c,n=1;for(e=0;3>e;e+=1)l[e]=e;g=0;v=Math.pow(2,2);for(m=1;m!=v;)f=u&h,h>>=1,0==h&&(h=c,u=d(n++)),g|=(0<f?1:0)*m,m<<=1;switch(g){case 0:g=0;v=
Math.pow(2,8);for(m=1;m!=v;)f=u&h,h>>=1,0==h&&(h=c,u=d(n++)),g|=(0<f?1:0)*m,m<<=1;t=b(g);break;case 1:g=0;v=Math.pow(2,16);for(m=1;m!=v;)f=u&h,h>>=1,0==h&&(h=c,u=d(n++)),g|=(0<f?1:0)*m,m<<=1;t=b(g);break;case 2:return""}e=l[3]=t;for(q.push(t);;){if(n>a)return"";g=0;v=Math.pow(2,y);for(m=1;m!=v;)f=u&h,h>>=1,0==h&&(h=c,u=d(n++)),g|=(0<f?1:0)*m,m<<=1;switch(t=g){case 0:g=0;v=Math.pow(2,8);for(m=1;m!=v;)f=u&h,h>>=1,0==h&&(h=c,u=d(n++)),g|=(0<f?1:0)*m,m<<=1;l[w++]=b(g);t=w-1;r--;break;case 1:g=0;v=Math.pow(2,
16);for(m=1;m!=v;)f=u&h,h>>=1,0==h&&(h=c,u=d(n++)),g|=(0<f?1:0)*m,m<<=1;l[w++]=b(g);t=w-1;r--;break;case 2:return q.join("")}if(0==r&&(r=Math.pow(2,y),y++),l[t])g=l[t];else{if(t!==w)return null;g=e+e.charAt(0)}q.push(g);l[w++]=e+g.charAt(0);e=g;0==--r&&(r=Math.pow(2,y),y++)}}};return e}();